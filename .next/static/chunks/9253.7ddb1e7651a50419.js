"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9253],{2840:function(t,r,n){n.d(r,{D:function(){return w},F:function(){return l},I:function(){return c},a:function(){return u},b:function(){return d},c:function(){return f},f:function(){return p},g:function(){return g},u:function(){return h}});var e=n(17736),a=n(16441),i=n(2593),o=n(64146),s=n(48764).Buffer;const c=(()=>a.arrayify("0x80ac58cd"))(),u=(()=>a.arrayify("0xd9b67a26"))(),l={name:"Failed to load NFT metadata"};async function p(t,r,n){if(r.startsWith("data:application/json;base64")&&"undefined"!==typeof s){const n=r.split(",")[1],a=JSON.parse(s.from(n,"base64").toString("utf-8"));return e.a.parse({...a,id:i.O$.from(t).toString(),uri:r})}const o=r.replace("{id}",a.hexZeroPad(i.O$.from(t).toHexString(),32).slice(2));let c;try{c=await n.downloadJSON(o)}catch(u){const e=r.replace("{id}",i.O$.from(t).toString());try{c=await n.downloadJSON(e)}catch(p){console.warn(`failed to get token metadata: ${JSON.stringify({tokenId:t.toString(),tokenUri:r})} -- falling back to default metadata`),c=l}}return e.a.parse({...c,id:i.O$.from(t).toString(),uri:r})}async function f(t,r,a,s){let f;const d=(await n.e(4309).then(n.t.bind(n,84309,19))).default,h=new o.CH(t,d,r),[g,w]=await Promise.all([h.supportsInterface(c),h.supportsInterface(u)]);if(g){const e=(await Promise.resolve().then(n.t.bind(n,47073,19))).default,i=new o.CH(t,e,r);f=await i.tokenURI(a)}else{if(!w)throw Error("Contract must implement ERC 1155 or ERC 721.");{const e=(await Promise.resolve().then(n.t.bind(n,98289,19))).default,i=new o.CH(t,e,r);f=await i.uri(a)}}return f?p(a,f,s):e.a.parse({...l,id:i.O$.from(a).toString(),uri:""})}async function d(t,r){return"string"===typeof t?t:await r.upload(e.C.parse(t))}async function h(t,r,n,a){if(function(t){return void 0===t.find((t=>"string"!==typeof t))}(t))return t;if(function(t){return void 0===t.find((t=>"object"!==typeof t))}(t)){return await r.uploadBatch(t.map((t=>e.C.parse(t))),{rewriteFileNames:{fileStartNumber:n||0},onProgress:a?.onProgress})}throw new Error("NFT metadatas must all be of the same type (all URI or all NFTMetadataInput)")}function g(t){const r=t[0].substring(0,t[0].lastIndexOf("/"));for(let n=0;n<t.length;n++){const e=t[n].substring(0,t[n].lastIndexOf("/"));if(r!==e)throw new Error(`Can only create batches with the same base URI for every entry in the batch. Expected '${r}' but got '${e}'`)}return r.replace(/\/$/,"")+"/"}const w=100},86407:function(t,r,n){n.d(r,{E:function(){return c},R:function(){return o},S:function(){return s},a:function(){return u}});var e=n(2593),a=n(1604),i=n(99612);const o=(()=>a.z.union([a.z.date().transform((t=>e.O$.from(Math.floor(t.getTime()/1e3)))),a.z.number().transform((t=>e.O$.from(t)))]))(),s=(()=>o.default(new Date(0)))(),c=(()=>o.default(new Date(Date.now()+31536e7)))();function u(t,r){if(!t)throw new i.x(r);return t}},72555:function(t,r,n){n.d(r,{C:function(){return e}});class e{constructor(t){this.contractWrapper=t}overrideNextTransaction(t){this.contractWrapper.withTransactionOverride(t)}}},59750:function(t,r,n){n.r(r),n.d(r,{MarketplaceV3:function(){return f}});var e=n(86407),a=n(21919),i=n(99612),o=n(43277),s=n(72555),c=n(95068),u=n(82123),l=n(99669),p=n(23437);n(13550),n(77191),n(71770);class f{static contractRoles=i.dH;get directListings(){return(0,e.a)(this.detectDirectListings(),i.dA)}get englishAuctions(){return(0,e.a)(this.detectEnglishAuctions(),i.dB)}get offers(){return(0,e.a)(this.detectOffers(),i.dC)}get chainId(){return this._chainId}constructor(t,r,n){let e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4?arguments[4]:void 0,p=arguments.length>5?arguments[5]:void 0,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new i.cs(t,r,l,e,n);this._chainId=p,this.abi=i.bj.parse(l||[]),this.contractWrapper=d,this.storage=n,this.metadata=new a.C(this.contractWrapper,i.b$,this.storage),this.app=new a.b(this.contractWrapper,this.metadata,this.storage),this.roles=new u.C(this.contractWrapper,f.contractRoles),this.encoder=new o.C(this.contractWrapper),this.estimator=new a.G(this.contractWrapper),this.events=new a.a(this.contractWrapper),this.platformFees=new c.C(this.contractWrapper),this.interceptor=new s.C(this.contractWrapper)}onNetworkUpdated(t){this.contractWrapper.updateSignerOrProvider(t)}getAddress(){return this.contractWrapper.address}async prepare(t,r,n){return p.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:t,args:r,overrides:n})}async call(t,r,n){return this.contractWrapper.call(t,r,n)}detectDirectListings(){if((0,a.d)(this.contractWrapper,"DirectListings"))return new l.M(this.contractWrapper,this.storage)}detectEnglishAuctions(){if((0,a.d)(this.contractWrapper,"EnglishAuctions"))return new l.a(this.contractWrapper,this.storage)}detectOffers(){if((0,a.d)(this.contractWrapper,"Offers"))return new l.b(this.contractWrapper,this.storage)}}},17736:function(t,r,n){n.d(r,{B:function(){return c},C:function(){return u},N:function(){return l},a:function(){return p},s:function(){return f}});var e=n(99612),a=n(1604),i=n(43277);const o=(()=>a.z.object({}).catchall(a.z.union([e.cx,a.z.unknown()])))(),s=(()=>a.z.union([a.z.array(a.z.array(o)).transform((t=>t.flat())),a.z.array(o),o]).optional().nullable())(),c=(()=>a.z.object({name:a.z.union([a.z.string(),a.z.number()]).optional().nullable(),description:a.z.string().nullable().optional().nullable(),image:e.cy.nullable().optional(),animation_url:e.cy.optional().nullable()}))(),u=(()=>c.extend({external_url:e.cy.nullable().optional(),background_color:e.cz.optional().nullable(),properties:s,attributes:s}).catchall(a.z.union([e.cx,a.z.unknown()])))(),l=(()=>a.z.union([u,a.z.string()]))(),p=(()=>u.extend({id:a.z.string(),uri:a.z.string(),image:a.z.string().nullable().optional(),external_url:a.z.string().nullable().optional(),animation_url:a.z.string().nullable().optional()}))();async function f(t,r,a,o){if(!(0,i.i)(a)){const i=(await Promise.resolve().then(n.t.bind(n,30853,19))).default,s=t.getSigner(),c=t.getProvider(),u=new e.cs(s||c,a,i,t.options,t.storage),l=await t.getSignerAddress(),p=t.address;return(await u.read("allowance",[l,p])).lt(r)&&await u.sendTransaction("approve",[p,r]),o}o.value=r}}}]);
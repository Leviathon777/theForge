"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["node_modules_thirdweb-dev_react-core_node_modules_thirdweb-dev_wallets_evm_connectors_embedde-7f2822"],{

/***/ "./node_modules/@thirdweb-dev/react-core/node_modules/@thirdweb-dev/wallets/evm/connectors/embedded-wallet/dist/thirdweb-dev-wallets-evm-connectors-embedded-wallet.browser.esm.js":
/*!*****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/react-core/node_modules/@thirdweb-dev/wallets/evm/connectors/embedded-wallet/dist/thirdweb-dev-wallets-evm-connectors-embedded-wallet.browser.esm.js ***!
  \*****************************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"EmbeddedWalletConnector\": function() { return /* binding */ EmbeddedWalletConnector; }\n/* harmony export */ });\n/* harmony import */ var _dist_defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../dist/defineProperty-350fc508.browser.esm.js */ \"./node_modules/@thirdweb-dev/react-core/node_modules/@thirdweb-dev/wallets/dist/defineProperty-350fc508.browser.esm.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ethers */ \"./node_modules/ethers/lib.esm/index.js\");\n/* harmony import */ var _dist_normalizeChainId_1fb9aedf_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../dist/normalizeChainId-1fb9aedf.browser.esm.js */ \"./node_modules/@thirdweb-dev/react-core/node_modules/@thirdweb-dev/wallets/dist/normalizeChainId-1fb9aedf.browser.esm.js\");\n/* harmony import */ var _dist_walletIds_dff6dced_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../dist/walletIds-dff6dced.browser.esm.js */ \"./node_modules/@thirdweb-dev/react-core/node_modules/@thirdweb-dev/wallets/dist/walletIds-dff6dced.browser.esm.js\");\n/* harmony import */ var _dist_connector_05689d68_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../dist/connector-05689d68.browser.esm.js */ \"./node_modules/@thirdweb-dev/react-core/node_modules/@thirdweb-dev/wallets/dist/connector-05689d68.browser.esm.js\");\n/* harmony import */ var _dist_embedded_wallet_e375380a_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../dist/embedded-wallet-e375380a.browser.esm.js */ \"./node_modules/@thirdweb-dev/react-core/node_modules/@thirdweb-dev/wallets/dist/embedded-wallet-e375380a.browser.esm.js\");\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ \"./node_modules/@thirdweb-dev/react-core/node_modules/eventemitter3/index.mjs\");\n\n\n\n\n\n\n\n\n\n\n\nclass EmbeddedWalletConnector extends _dist_connector_05689d68_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__.C {\n  constructor(options) {\n    super();\n    (0,_dist_defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, \"id\", _dist_walletIds_dff6dced_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__.w.paper);\n    (0,_dist_defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, \"name\", \"Embedded Wallet\");\n    (0,_dist_defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, \"ready\", true);\n    (0,_dist_defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, \"user\", null);\n    (0,_dist_defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, \"onAccountsChanged\", async accounts => {\n      if (accounts.length === 0) {\n        await this.onDisconnect();\n      } else {\n        this.emit(\"change\", {\n          account: ethers__WEBPACK_IMPORTED_MODULE_4__.utils.getAddress(accounts[0])\n        });\n      }\n    });\n    (0,_dist_defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, \"onChainChanged\", chainId => {\n      const id = (0,_dist_normalizeChainId_1fb9aedf_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.n)(chainId);\n      const unsupported = this.options.chains.findIndex(c => c.chainId === id) === -1;\n      this.emit(\"change\", {\n        chain: {\n          id,\n          unsupported\n        }\n      });\n    });\n    (0,_dist_defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, \"onDisconnect\", async () => {\n      this.emit(\"disconnect\");\n    });\n    this.options = options;\n  }\n  getEmbeddedWalletSDK() {\n    if (!this._embeddedWalletSdk) {\n      this._embeddedWalletSdk = new _dist_embedded_wallet_e375380a_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__.E({\n        clientId: this.options.clientId,\n        chain: \"Ethereum\",\n        onAuthSuccess: this.options.onAuthSuccess\n      });\n    }\n    return this._embeddedWalletSdk;\n  }\n  async connect(args) {\n    // backwards compatibility - options should really be required here\n    if (!args) {\n      // default to iframe flow\n      const result = await this.authenticate({\n        strategy: \"iframe\"\n      });\n      if (!result.user) {\n        throw new Error(\"Error connecting User\");\n      }\n      this.user = result.user;\n    } else {\n      if (!args.authResult) {\n        throw new Error(\"Missing authData - call authenticate() first with your authentication strategy\");\n      }\n      if (!args.authResult.user) {\n        throw new Error(\"Missing authData.user - call authenticate() first with your authentication strategy\");\n      }\n      this.user = args.authResult.user;\n    }\n    if (args?.chainId) {\n      this.switchChain(args.chainId);\n    }\n    return this.getAddress();\n  }\n  async disconnect() {\n    const paper = this._embeddedWalletSdk;\n    await paper?.auth.logout();\n    this._signer = undefined;\n    this._embeddedWalletSdk = undefined;\n    this.user = null;\n  }\n  async getAddress() {\n    if (!this.user) {\n      throw new Error(\"Embedded Wallet is not connected\");\n    }\n    return await this.getSigner().then(signer => signer.getAddress());\n  }\n  async isConnected() {\n    try {\n      const addr = await this.getAddress();\n      return !!addr;\n    } catch (e) {\n      return false;\n    }\n  }\n  async getProvider() {\n    const signer = await this.getSigner();\n    if (!signer.provider) {\n      throw new Error(\"Provider not found\");\n    }\n    return signer.provider;\n  }\n  async getSigner() {\n    if (this._signer) {\n      return this._signer;\n    }\n    const user = await this.getUser();\n    const signer = await user.wallet.getEthersJsSigner({\n      rpcEndpoint: this.options.chain.rpc[0] || \"\" // TODO: handle chain.rpc being empty array\n    });\n    if (!signer) {\n      throw new Error(\"Signer not found\");\n    }\n    this._signer = signer;\n    return signer;\n  }\n  async isAuthorized() {\n    return false;\n  }\n  async switchChain(chainId) {\n    const chain = this.options.chains.find(c => c.chainId === chainId);\n    if (!chain) {\n      throw new Error(\"Chain not configured\");\n    }\n    try {\n      // update chain in wallet\n      await this.user?.wallet.setChain({\n        chain: \"Ethereum\"\n      }); // just pass Ethereum no matter what chain we are going to connect\n      // update signer\n      this._signer = await this.user?.wallet.getEthersJsSigner({\n        rpcEndpoint: chain.rpc[0] || \"\"\n      });\n      this.emit(\"change\", {\n        chain: {\n          id: chainId,\n          unsupported: false\n        }\n      });\n    } catch (e) {\n      console.warn(\"Failed to switch chain\", e);\n    }\n  }\n  async setupListeners() {\n    return Promise.resolve();\n  }\n  updateChains(chains) {\n    this.options.chains = chains;\n  }\n  async getUser() {\n    if (!this.user || !this.user.wallet || !this.user.wallet.getEthersJsSigner // when serializing, functions are lost, need to rehydrate\n    ) {\n      const embeddedWalletSdk = this.getEmbeddedWalletSDK();\n      const user = await embeddedWalletSdk.getUser();\n      switch (user.status) {\n        case _dist_embedded_wallet_e375380a_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__.U.LOGGED_IN_WALLET_INITIALIZED:\n          {\n            this.user = user;\n            break;\n          }\n        default:\n          {\n            // if logged out or unitialized, we can't get a signer, so throw an error\n            throw new Error(\"Embedded Wallet is not authenticated, please authenticate first\");\n          }\n      }\n    }\n    return this.user;\n  }\n  async getEmail() {\n    const user = await this.getUser();\n    return user.authDetails.email;\n  }\n  async getPhoneNumber() {\n    const user = await this.getUser();\n    return user.authDetails.phoneNumber;\n  }\n  async getRecoveryInformation() {\n    const user = await this.getUser();\n    return user.authDetails;\n  }\n  async sendVerificationEmail(_ref) {\n    let {\n      email\n    } = _ref;\n    const ewSDK = this.getEmbeddedWalletSDK();\n    return ewSDK.auth.sendEmailLoginOtp({\n      email\n    });\n  }\n  async sendVerificationSms(_ref2) {\n    let {\n      phoneNumber\n    } = _ref2;\n    const ewSDK = this.getEmbeddedWalletSDK();\n    return ewSDK.auth.sendSmsLoginOtp({\n      phoneNumber\n    });\n  }\n  async authenticate(params) {\n    const ewSDK = this.getEmbeddedWalletSDK();\n    const strategy = params.strategy;\n    switch (strategy) {\n      case \"email_verification\":\n        {\n          return await ewSDK.auth.verifyEmailLoginOtp({\n            email: params.email,\n            otp: params.verificationCode,\n            recoveryCode: params.recoveryCode\n          });\n        }\n      case \"phone_number_verification\":\n        {\n          return await ewSDK.auth.verifySmsLoginOtp({\n            phoneNumber: params.phoneNumber,\n            otp: params.verificationCode,\n            recoveryCode: params.recoveryCode\n          });\n        }\n      case \"apple\":\n      case \"facebook\":\n      case \"google\":\n        {\n          const oauthProvider = oauthStrategyToAuthProvider[strategy];\n          return ewSDK.auth.loginWithOauth({\n            oauthProvider,\n            closeOpenedWindow: params.closeOpenedWindow,\n            openedWindow: params.openedWindow\n          });\n        }\n      case \"jwt\":\n        {\n          return ewSDK.auth.loginWithCustomJwt({\n            jwt: params.jwt,\n            encryptionKey: params.encryptionKey\n          });\n        }\n      case \"auth_endpoint\":\n        {\n          return ewSDK.auth.loginWithCustomAuthEndpoint({\n            payload: params.payload,\n            encryptionKey: params.encryptionKey\n          });\n        }\n      case \"iframe_email_verification\":\n        {\n          return ewSDK.auth.loginWithEmailOtp({\n            email: params.email\n          });\n        }\n      case \"iframe\":\n        {\n          return ewSDK.auth.loginWithModal();\n        }\n      default:\n        assertUnreachable(strategy);\n    }\n  }\n}\nfunction assertUnreachable(x) {\n  throw new Error(\"Invalid param: \" + x);\n}\nconst oauthStrategyToAuthProvider = {\n  google: _dist_embedded_wallet_e375380a_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__.c.GOOGLE,\n  facebook: _dist_embedded_wallet_e375380a_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__.c.FACEBOOK,\n  apple: _dist_embedded_wallet_e375380a_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__.c.APPLE\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi9yZWFjdC1jb3JlL25vZGVfbW9kdWxlcy9AdGhpcmR3ZWItZGV2L3dhbGxldHMvZXZtL2Nvbm5lY3RvcnMvZW1iZWRkZWQtd2FsbGV0L2Rpc3QvdGhpcmR3ZWItZGV2LXdhbGxldHMtZXZtLWNvbm5lY3RvcnMtZW1iZWRkZWQtd2FsbGV0LmJyb3dzZXIuZXNtLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQStGO0FBQ2hFO0FBQ21FO0FBQ2Q7QUFDQTtBQUN3RDtBQUNySDtBQUNpQjtBQUNkO0FBQ0M7O0FBRTNCLHNDQUFzQyxzRUFBUztBQUMvQztBQUNBO0FBQ0EsSUFBSSwrRUFBZSxhQUFhLDRFQUFlO0FBQy9DLElBQUksK0VBQWU7QUFDbkIsSUFBSSwrRUFBZTtBQUNuQixJQUFJLCtFQUFlO0FBQ25CLElBQUksK0VBQWU7QUFDbkI7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLG1CQUFtQixvREFBZ0I7QUFDbkMsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMLElBQUksK0VBQWU7QUFDbkIsaUJBQWlCLGlGQUFnQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLElBQUksK0VBQWU7QUFDbkI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsNEVBQWlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxHQUFHO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEseUdBQTZDO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsbUZBQW1CO0FBQzdCLFlBQVkscUZBQXFCO0FBQ2pDLFNBQVMsa0ZBQWtCO0FBQzNCOztBQUVtQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi9yZWFjdC1jb3JlL25vZGVfbW9kdWxlcy9AdGhpcmR3ZWItZGV2L3dhbGxldHMvZXZtL2Nvbm5lY3RvcnMvZW1iZWRkZWQtd2FsbGV0L2Rpc3QvdGhpcmR3ZWItZGV2LXdhbGxldHMtZXZtLWNvbm5lY3RvcnMtZW1iZWRkZWQtd2FsbGV0LmJyb3dzZXIuZXNtLmpzP2IyZWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgXyBhcyBfZGVmaW5lUHJvcGVydHkgfSBmcm9tICcuLi8uLi8uLi8uLi9kaXN0L2RlZmluZVByb3BlcnR5LTM1MGZjNTA4LmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCB7IHV0aWxzIH0gZnJvbSAnZXRoZXJzJztcbmltcG9ydCB7IG4gYXMgbm9ybWFsaXplQ2hhaW5JZCB9IGZyb20gJy4uLy4uLy4uLy4uL2Rpc3Qvbm9ybWFsaXplQ2hhaW5JZC0xZmI5YWVkZi5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgeyB3IGFzIHdhbGxldElkcyB9IGZyb20gJy4uLy4uLy4uLy4uL2Rpc3Qvd2FsbGV0SWRzLWRmZjZkY2VkLmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCB7IEMgYXMgQ29ubmVjdG9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC9jb25uZWN0b3ItMDU2ODlkNjguYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0IHsgRSBhcyBFbWJlZGRlZFdhbGxldFNkaywgVSBhcyBVc2VyV2FsbGV0U3RhdHVzLCBjIGFzIEF1dGhQcm92aWRlciB9IGZyb20gJy4uLy4uLy4uLy4uL2Rpc3QvZW1iZWRkZWQtd2FsbGV0LWUzNzUzODBhLmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCAnZXZlbnRlbWl0dGVyMyc7XG5pbXBvcnQgJ0BwYXBlcnh5ei9zZGstY29tbW9uLXV0aWxpdGllcyc7XG5pbXBvcnQgJ2V0aGVycy9saWIvdXRpbHMnO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L3Nkayc7XG5cbmNsYXNzIEVtYmVkZGVkV2FsbGV0Q29ubmVjdG9yIGV4dGVuZHMgQ29ubmVjdG9yIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaWRcIiwgd2FsbGV0SWRzLnBhcGVyKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIFwiRW1iZWRkZWQgV2FsbGV0XCIpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlYWR5XCIsIHRydWUpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVzZXJcIiwgbnVsbCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwib25BY2NvdW50c0NoYW5nZWRcIiwgYXN5bmMgYWNjb3VudHMgPT4ge1xuICAgICAgaWYgKGFjY291bnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBhd2FpdCB0aGlzLm9uRGlzY29ubmVjdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbWl0KFwiY2hhbmdlXCIsIHtcbiAgICAgICAgICBhY2NvdW50OiB1dGlscy5nZXRBZGRyZXNzKGFjY291bnRzWzBdKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvbkNoYWluQ2hhbmdlZFwiLCBjaGFpbklkID0+IHtcbiAgICAgIGNvbnN0IGlkID0gbm9ybWFsaXplQ2hhaW5JZChjaGFpbklkKTtcbiAgICAgIGNvbnN0IHVuc3VwcG9ydGVkID0gdGhpcy5vcHRpb25zLmNoYWlucy5maW5kSW5kZXgoYyA9PiBjLmNoYWluSWQgPT09IGlkKSA9PT0gLTE7XG4gICAgICB0aGlzLmVtaXQoXCJjaGFuZ2VcIiwge1xuICAgICAgICBjaGFpbjoge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHVuc3VwcG9ydGVkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uRGlzY29ubmVjdFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICB0aGlzLmVtaXQoXCJkaXNjb25uZWN0XCIpO1xuICAgIH0pO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbiAgZ2V0RW1iZWRkZWRXYWxsZXRTREsoKSB7XG4gICAgaWYgKCF0aGlzLl9lbWJlZGRlZFdhbGxldFNkaykge1xuICAgICAgdGhpcy5fZW1iZWRkZWRXYWxsZXRTZGsgPSBuZXcgRW1iZWRkZWRXYWxsZXRTZGsoe1xuICAgICAgICBjbGllbnRJZDogdGhpcy5vcHRpb25zLmNsaWVudElkLFxuICAgICAgICBjaGFpbjogXCJFdGhlcmV1bVwiLFxuICAgICAgICBvbkF1dGhTdWNjZXNzOiB0aGlzLm9wdGlvbnMub25BdXRoU3VjY2Vzc1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9lbWJlZGRlZFdhbGxldFNkaztcbiAgfVxuICBhc3luYyBjb25uZWN0KGFyZ3MpIHtcbiAgICAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSAtIG9wdGlvbnMgc2hvdWxkIHJlYWxseSBiZSByZXF1aXJlZCBoZXJlXG4gICAgaWYgKCFhcmdzKSB7XG4gICAgICAvLyBkZWZhdWx0IHRvIGlmcmFtZSBmbG93XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmF1dGhlbnRpY2F0ZSh7XG4gICAgICAgIHN0cmF0ZWd5OiBcImlmcmFtZVwiXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzdWx0LnVzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgY29ubmVjdGluZyBVc2VyXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy51c2VyID0gcmVzdWx0LnVzZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghYXJncy5hdXRoUmVzdWx0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgYXV0aERhdGEgLSBjYWxsIGF1dGhlbnRpY2F0ZSgpIGZpcnN0IHdpdGggeW91ciBhdXRoZW50aWNhdGlvbiBzdHJhdGVneVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghYXJncy5hdXRoUmVzdWx0LnVzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBhdXRoRGF0YS51c2VyIC0gY2FsbCBhdXRoZW50aWNhdGUoKSBmaXJzdCB3aXRoIHlvdXIgYXV0aGVudGljYXRpb24gc3RyYXRlZ3lcIik7XG4gICAgICB9XG4gICAgICB0aGlzLnVzZXIgPSBhcmdzLmF1dGhSZXN1bHQudXNlcjtcbiAgICB9XG4gICAgaWYgKGFyZ3M/LmNoYWluSWQpIHtcbiAgICAgIHRoaXMuc3dpdGNoQ2hhaW4oYXJncy5jaGFpbklkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0QWRkcmVzcygpO1xuICB9XG4gIGFzeW5jIGRpc2Nvbm5lY3QoKSB7XG4gICAgY29uc3QgcGFwZXIgPSB0aGlzLl9lbWJlZGRlZFdhbGxldFNkaztcbiAgICBhd2FpdCBwYXBlcj8uYXV0aC5sb2dvdXQoKTtcbiAgICB0aGlzLl9zaWduZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fZW1iZWRkZWRXYWxsZXRTZGsgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy51c2VyID0gbnVsbDtcbiAgfVxuICBhc3luYyBnZXRBZGRyZXNzKCkge1xuICAgIGlmICghdGhpcy51c2VyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbWJlZGRlZCBXYWxsZXQgaXMgbm90IGNvbm5lY3RlZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0U2lnbmVyKCkudGhlbihzaWduZXIgPT4gc2lnbmVyLmdldEFkZHJlc3MoKSk7XG4gIH1cbiAgYXN5bmMgaXNDb25uZWN0ZWQoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFkZHIgPSBhd2FpdCB0aGlzLmdldEFkZHJlc3MoKTtcbiAgICAgIHJldHVybiAhIWFkZHI7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBhc3luYyBnZXRQcm92aWRlcigpIHtcbiAgICBjb25zdCBzaWduZXIgPSBhd2FpdCB0aGlzLmdldFNpZ25lcigpO1xuICAgIGlmICghc2lnbmVyLnByb3ZpZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm92aWRlciBub3QgZm91bmRcIik7XG4gICAgfVxuICAgIHJldHVybiBzaWduZXIucHJvdmlkZXI7XG4gIH1cbiAgYXN5bmMgZ2V0U2lnbmVyKCkge1xuICAgIGlmICh0aGlzLl9zaWduZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zaWduZXI7XG4gICAgfVxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmdldFVzZXIoKTtcbiAgICBjb25zdCBzaWduZXIgPSBhd2FpdCB1c2VyLndhbGxldC5nZXRFdGhlcnNKc1NpZ25lcih7XG4gICAgICBycGNFbmRwb2ludDogdGhpcy5vcHRpb25zLmNoYWluLnJwY1swXSB8fCBcIlwiIC8vIFRPRE86IGhhbmRsZSBjaGFpbi5ycGMgYmVpbmcgZW1wdHkgYXJyYXlcbiAgICB9KTtcbiAgICBpZiAoIXNpZ25lcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2lnbmVyIG5vdCBmb3VuZFwiKTtcbiAgICB9XG4gICAgdGhpcy5fc2lnbmVyID0gc2lnbmVyO1xuICAgIHJldHVybiBzaWduZXI7XG4gIH1cbiAgYXN5bmMgaXNBdXRob3JpemVkKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBhc3luYyBzd2l0Y2hDaGFpbihjaGFpbklkKSB7XG4gICAgY29uc3QgY2hhaW4gPSB0aGlzLm9wdGlvbnMuY2hhaW5zLmZpbmQoYyA9PiBjLmNoYWluSWQgPT09IGNoYWluSWQpO1xuICAgIGlmICghY2hhaW4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNoYWluIG5vdCBjb25maWd1cmVkXCIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgLy8gdXBkYXRlIGNoYWluIGluIHdhbGxldFxuICAgICAgYXdhaXQgdGhpcy51c2VyPy53YWxsZXQuc2V0Q2hhaW4oe1xuICAgICAgICBjaGFpbjogXCJFdGhlcmV1bVwiXG4gICAgICB9KTsgLy8ganVzdCBwYXNzIEV0aGVyZXVtIG5vIG1hdHRlciB3aGF0IGNoYWluIHdlIGFyZSBnb2luZyB0byBjb25uZWN0XG4gICAgICAvLyB1cGRhdGUgc2lnbmVyXG4gICAgICB0aGlzLl9zaWduZXIgPSBhd2FpdCB0aGlzLnVzZXI/LndhbGxldC5nZXRFdGhlcnNKc1NpZ25lcih7XG4gICAgICAgIHJwY0VuZHBvaW50OiBjaGFpbi5ycGNbMF0gfHwgXCJcIlxuICAgICAgfSk7XG4gICAgICB0aGlzLmVtaXQoXCJjaGFuZ2VcIiwge1xuICAgICAgICBjaGFpbjoge1xuICAgICAgICAgIGlkOiBjaGFpbklkLFxuICAgICAgICAgIHVuc3VwcG9ydGVkOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gc3dpdGNoIGNoYWluXCIsIGUpO1xuICAgIH1cbiAgfVxuICBhc3luYyBzZXR1cExpc3RlbmVycygpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbiAgdXBkYXRlQ2hhaW5zKGNoYWlucykge1xuICAgIHRoaXMub3B0aW9ucy5jaGFpbnMgPSBjaGFpbnM7XG4gIH1cbiAgYXN5bmMgZ2V0VXNlcigpIHtcbiAgICBpZiAoIXRoaXMudXNlciB8fCAhdGhpcy51c2VyLndhbGxldCB8fCAhdGhpcy51c2VyLndhbGxldC5nZXRFdGhlcnNKc1NpZ25lciAvLyB3aGVuIHNlcmlhbGl6aW5nLCBmdW5jdGlvbnMgYXJlIGxvc3QsIG5lZWQgdG8gcmVoeWRyYXRlXG4gICAgKSB7XG4gICAgICBjb25zdCBlbWJlZGRlZFdhbGxldFNkayA9IHRoaXMuZ2V0RW1iZWRkZWRXYWxsZXRTREsoKTtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBlbWJlZGRlZFdhbGxldFNkay5nZXRVc2VyKCk7XG4gICAgICBzd2l0Y2ggKHVzZXIuc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgVXNlcldhbGxldFN0YXR1cy5MT0dHRURfSU5fV0FMTEVUX0lOSVRJQUxJWkVEOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXNlciA9IHVzZXI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgbG9nZ2VkIG91dCBvciB1bml0aWFsaXplZCwgd2UgY2FuJ3QgZ2V0IGEgc2lnbmVyLCBzbyB0aHJvdyBhbiBlcnJvclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRW1iZWRkZWQgV2FsbGV0IGlzIG5vdCBhdXRoZW50aWNhdGVkLCBwbGVhc2UgYXV0aGVudGljYXRlIGZpcnN0XCIpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudXNlcjtcbiAgfVxuICBhc3luYyBnZXRFbWFpbCgpIHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5nZXRVc2VyKCk7XG4gICAgcmV0dXJuIHVzZXIuYXV0aERldGFpbHMuZW1haWw7XG4gIH1cbiAgYXN5bmMgZ2V0UGhvbmVOdW1iZXIoKSB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHRoaXMuZ2V0VXNlcigpO1xuICAgIHJldHVybiB1c2VyLmF1dGhEZXRhaWxzLnBob25lTnVtYmVyO1xuICB9XG4gIGFzeW5jIGdldFJlY292ZXJ5SW5mb3JtYXRpb24oKSB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHRoaXMuZ2V0VXNlcigpO1xuICAgIHJldHVybiB1c2VyLmF1dGhEZXRhaWxzO1xuICB9XG4gIGFzeW5jIHNlbmRWZXJpZmljYXRpb25FbWFpbChfcmVmKSB7XG4gICAgbGV0IHtcbiAgICAgIGVtYWlsXG4gICAgfSA9IF9yZWY7XG4gICAgY29uc3QgZXdTREsgPSB0aGlzLmdldEVtYmVkZGVkV2FsbGV0U0RLKCk7XG4gICAgcmV0dXJuIGV3U0RLLmF1dGguc2VuZEVtYWlsTG9naW5PdHAoe1xuICAgICAgZW1haWxcbiAgICB9KTtcbiAgfVxuICBhc3luYyBzZW5kVmVyaWZpY2F0aW9uU21zKF9yZWYyKSB7XG4gICAgbGV0IHtcbiAgICAgIHBob25lTnVtYmVyXG4gICAgfSA9IF9yZWYyO1xuICAgIGNvbnN0IGV3U0RLID0gdGhpcy5nZXRFbWJlZGRlZFdhbGxldFNESygpO1xuICAgIHJldHVybiBld1NESy5hdXRoLnNlbmRTbXNMb2dpbk90cCh7XG4gICAgICBwaG9uZU51bWJlclxuICAgIH0pO1xuICB9XG4gIGFzeW5jIGF1dGhlbnRpY2F0ZShwYXJhbXMpIHtcbiAgICBjb25zdCBld1NESyA9IHRoaXMuZ2V0RW1iZWRkZWRXYWxsZXRTREsoKTtcbiAgICBjb25zdCBzdHJhdGVneSA9IHBhcmFtcy5zdHJhdGVneTtcbiAgICBzd2l0Y2ggKHN0cmF0ZWd5KSB7XG4gICAgICBjYXNlIFwiZW1haWxfdmVyaWZpY2F0aW9uXCI6XG4gICAgICAgIHtcbiAgICAgICAgICByZXR1cm4gYXdhaXQgZXdTREsuYXV0aC52ZXJpZnlFbWFpbExvZ2luT3RwKHtcbiAgICAgICAgICAgIGVtYWlsOiBwYXJhbXMuZW1haWwsXG4gICAgICAgICAgICBvdHA6IHBhcmFtcy52ZXJpZmljYXRpb25Db2RlLFxuICAgICAgICAgICAgcmVjb3ZlcnlDb2RlOiBwYXJhbXMucmVjb3ZlcnlDb2RlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgXCJwaG9uZV9udW1iZXJfdmVyaWZpY2F0aW9uXCI6XG4gICAgICAgIHtcbiAgICAgICAgICByZXR1cm4gYXdhaXQgZXdTREsuYXV0aC52ZXJpZnlTbXNMb2dpbk90cCh7XG4gICAgICAgICAgICBwaG9uZU51bWJlcjogcGFyYW1zLnBob25lTnVtYmVyLFxuICAgICAgICAgICAgb3RwOiBwYXJhbXMudmVyaWZpY2F0aW9uQ29kZSxcbiAgICAgICAgICAgIHJlY292ZXJ5Q29kZTogcGFyYW1zLnJlY292ZXJ5Q29kZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICBjYXNlIFwiYXBwbGVcIjpcbiAgICAgIGNhc2UgXCJmYWNlYm9va1wiOlxuICAgICAgY2FzZSBcImdvb2dsZVwiOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3Qgb2F1dGhQcm92aWRlciA9IG9hdXRoU3RyYXRlZ3lUb0F1dGhQcm92aWRlcltzdHJhdGVneV07XG4gICAgICAgICAgcmV0dXJuIGV3U0RLLmF1dGgubG9naW5XaXRoT2F1dGgoe1xuICAgICAgICAgICAgb2F1dGhQcm92aWRlcixcbiAgICAgICAgICAgIGNsb3NlT3BlbmVkV2luZG93OiBwYXJhbXMuY2xvc2VPcGVuZWRXaW5kb3csXG4gICAgICAgICAgICBvcGVuZWRXaW5kb3c6IHBhcmFtcy5vcGVuZWRXaW5kb3dcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgY2FzZSBcImp3dFwiOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIGV3U0RLLmF1dGgubG9naW5XaXRoQ3VzdG9tSnd0KHtcbiAgICAgICAgICAgIGp3dDogcGFyYW1zLmp3dCxcbiAgICAgICAgICAgIGVuY3J5cHRpb25LZXk6IHBhcmFtcy5lbmNyeXB0aW9uS2V5XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgXCJhdXRoX2VuZHBvaW50XCI6XG4gICAgICAgIHtcbiAgICAgICAgICByZXR1cm4gZXdTREsuYXV0aC5sb2dpbldpdGhDdXN0b21BdXRoRW5kcG9pbnQoe1xuICAgICAgICAgICAgcGF5bG9hZDogcGFyYW1zLnBheWxvYWQsXG4gICAgICAgICAgICBlbmNyeXB0aW9uS2V5OiBwYXJhbXMuZW5jcnlwdGlvbktleVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICBjYXNlIFwiaWZyYW1lX2VtYWlsX3ZlcmlmaWNhdGlvblwiOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIGV3U0RLLmF1dGgubG9naW5XaXRoRW1haWxPdHAoe1xuICAgICAgICAgICAgZW1haWw6IHBhcmFtcy5lbWFpbFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICBjYXNlIFwiaWZyYW1lXCI6XG4gICAgICAgIHtcbiAgICAgICAgICByZXR1cm4gZXdTREsuYXV0aC5sb2dpbldpdGhNb2RhbCgpO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhc3NlcnRVbnJlYWNoYWJsZShzdHJhdGVneSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBhc3NlcnRVbnJlYWNoYWJsZSh4KSB7XG4gIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFyYW06IFwiICsgeCk7XG59XG5jb25zdCBvYXV0aFN0cmF0ZWd5VG9BdXRoUHJvdmlkZXIgPSB7XG4gIGdvb2dsZTogQXV0aFByb3ZpZGVyLkdPT0dMRSxcbiAgZmFjZWJvb2s6IEF1dGhQcm92aWRlci5GQUNFQk9PSyxcbiAgYXBwbGU6IEF1dGhQcm92aWRlci5BUFBMRVxufTtcblxuZXhwb3J0IHsgRW1iZWRkZWRXYWxsZXRDb25uZWN0b3IgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@thirdweb-dev/react-core/node_modules/@thirdweb-dev/wallets/evm/connectors/embedded-wallet/dist/thirdweb-dev-wallets-evm-connectors-embedded-wallet.browser.esm.js\n"));

/***/ })

}]);